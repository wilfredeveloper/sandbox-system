# ========================================
# Sandbox System - Production Environment
# ========================================
# Copy this file to .env.prod and fill in actual values
# NEVER commit .env.prod to version control

# === Redis Configuration ===
# Redis is used for session coordination between sandbox workers
# The password must be strong (32+ characters) in production
REDIS_PASSWORD=password

# Note: REDIS_HOST and REDIS_PORT are set automatically in docker-compose.prod.yml
# They are set to 'redis' and '6379' respectively

# === Coordinator Configuration ===
# The coordinator listens on port 8100
SANDBOX_COORDINATOR_PORT=240110
LOG_LEVEL=info

# === Worker Pool Configuration ===
# Adjust based on your VPS resources
# For 4GB RAM VPS: WORKER_POOL_SIZE=10
# For 8GB RAM VPS: WORKER_POOL_SIZE=15
# For 16GB RAM VPS: WORKER_POOL_SIZE=20
WORKER_POOL_SIZE=15
WORKER_MIN_POOL_SIZE=3
WORKER_MAX_POOL_SIZE=30

# === Sandbox Container Resource Limits ===
# Memory limit per sandbox container
SANDBOX_MEMORY_LIMIT=256m
# CPU quota (100000 = 100% of 1 core, 25000 = 25%)
SANDBOX_CPU_QUOTA=25000

# === Timeout Configuration ===
# Session timeout in minutes
SESSION_TIMEOUT=15
# Container idle timeout in minutes
CONTAINER_IDLE_TIMEOUT=5
# Cleanup interval in seconds
CLEANUP_INTERVAL=300

# === Cleanup Configuration ===
AGGRESSIVE_CLEANUP=true
POOL_REFILL_DELAY=60
